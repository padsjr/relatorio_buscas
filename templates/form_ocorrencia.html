{% extends "base.html" %}

{% block title %}Nova Ocorrência{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <div class="d-flex justify-content-between align-items-center">
            <h1>Nova Ocorrência</h1>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Voltar</a>
        </div>
    </div>
    <div class="card-body">

    <form method="POST" enctype="multipart/form-data">
            <!-- DADOS BÁSICOS DA OCORRÊNCIA -->
            <div class="section">
                <h2>1. Dados Básicos da Ocorrência</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="tipo">Tipo de Ocorrência <span class="required">*</span></label>
                        <select name="tipo" id="tipo" class="form-control" required>
                            <option value="">Selecione...</option>
                            <option value="Salvamento">Salvamento</option>
                            <option value="Busca">Busca</option>
                            <option value="Resgate">Resgate</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="genero">Gênero <span class="required">*</span></label>
                        <select name="genero" id="genero" class="form-control" required>
                            <option value="">Selecione...</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Feminino">Feminino</option>
                            <option value="Não informado">Não informado</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="data_fato">Data do Fato <span class="required">*</span></label>
                        <input type="date" name="data_fato" id="data_fato" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="data_acionamento">Data de Acionamento</label>
                        <input type="date" name="data_acionamento" id="data_acionamento" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label for="link">Link de Referência</label>
                    <input type="url" name="link" id="link" class="form-control" placeholder="https://...">
                </div>
            </div>

            <!-- DADOS DO LOCAL -->
            <div class="section">
                <h2>2. Dados do Local</h2>
                
                <div class="form-group">
                    <label for="endereco">Endereço <span class="required">*</span></label>
                    <input type="text" name="endereco" id="endereco" class="form-control" required placeholder="Rua, número, bairro">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="cidade">Cidade <span class="required">*</span></label>
                        <input type="text" name="cidade" id="cidade" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="complemento">Complemento</label>
                        <input type="text" name="complemento" id="complemento" class="form-control" placeholder="Ponto de referência, detalhes">
                    </div>
                </div>

                <div class="form-group">
                    <label for="coordenada">Coordenadas</label>
                    <input type="text" name="coordenada" id="coordenada" class="form-control" placeholder="Latitude, Longitude">
                </div>
            </div>

            <!-- DADOS DA VÍTIMA -->
            <div class="section">
                <h2>3. Dados da Vítima</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nome_vitima">Nome da Vítima <span class="required">*</span></label>
                        <input type="text" name="nome_vitima" id="nome_vitima" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="cpf">CPF</label>
                        <input type="text" name="cpf" id="cpf" class="form-control" placeholder="000.000.000-00">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="sexo">Sexo</label>
                        <select name="sexo" id="sexo" class="form-control">
                            <option value="">Selecione...</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Feminino">Feminino</option>
                            <option value="Não informado">Não informado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="idade">Idade</label>
                        <input type="text" name="idade" id="idade" class="form-control" placeholder="Ex: 25 anos">
                    </div>
                </div>

                <div class="form-group">
                    <label for="naturalidade">Naturalidade</label>
                    <input type="text" name="naturalidade" id="naturalidade" class="form-control">
                </div>

                <div class="form-group">
                    <label for="filiacao">Filiação</label>
                    <input type="text" name="filiacao" id="filiacao" class="form-control" placeholder="Nome dos pais">
                </div>

                <div class="form-group">
                    <label for="contatos">Contatos</label>
                    <input type="text" name="contatos" id="contatos" class="form-control" placeholder="Telefone, email">
                </div>

                <div class="form-group">
                    <label for="enderecos">Endereços</label>
                    <input type="text" name="enderecos" id="enderecos" class="form-control" placeholder="Endereço residencial">
                </div>

                <div class="form-group">
                    <label for="vestimentas">Vestimentas</label>
                    <textarea name="vestimentas" id="vestimentas" class="form-control" placeholder="Descrição das roupas que a vítima estava usando"></textarea>
                </div>

                <div class="form-group">
                    <label for="caracteristicas_vitima">Características da Vítima</label>
                    <textarea name="caracteristicas_vitima" id="caracteristicas_vitima" class="form-control" placeholder="Altura, peso, cor dos olhos, cabelo, etc."></textarea>
                </div>

                <div class="form-group">
                    <label for="condicoes_neurologicas">Condições Neurológicas</label>
                    <textarea name="condicoes_neurologicas" id="condicoes_neurologicas" class="form-control" placeholder="Alzheimer, demência, etc."></textarea>
                </div>

                <div class="form-group">
                    <label for="inf_medicas">Informações Médicas</label>
                    <textarea name="inf_medicas" id="inf_medicas" class="form-control" placeholder="Medicamentos, doenças, etc."></textarea>
                </div>

                <div class="form-group">
                    <label for="experiencia_e_resistencia">Experiência e Resistência</label>
                    <textarea name="experiencia_e_resistencia" id="experiencia_e_resistencia" class="form-control" placeholder="Experiência com água, natação, etc."></textarea>
                </div>
            </div>

            <!-- CARACTERÍSTICAS DA ÁREA DE BUSCA -->
            <div class="section">
                <h2>4. Características da Área de Busca</h2>
                
                <div class="form-group">
                    <label for="tipo_terreno_agua">Tipo de Terreno/Água</label>
                    <select name="tipo_terreno_agua" id="tipo_terreno_agua" class="form-control">
                        <option value="">Selecione...</option>
                        <option value="Mar">Mar</option>
                        <option value="Rio">Rio</option>
                        <option value="Lago">Lago</option>
                        <option value="Piscina">Piscina</option>
                        <option value="Terreno">Terreno</option>
                        <option value="Outros">Outros</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="condicoes_do_tipo_terreno">Condições do Terreno</label>
                    <textarea name="condicoes_do_tipo_terreno" id="condicoes_do_tipo_terreno" class="form-control" placeholder="Profundidade, correnteza, vegetação, etc."></textarea>
                </div>

                <div class="form-group">
                    <label for="condicoes_climaticas">Condições Climáticas</label>
                    <textarea name="condicoes_climaticas" id="condicoes_climaticas" class="form-control" placeholder="Temperatura, vento, chuva, visibilidade, etc."></textarea>
                </div>
            </div>

            <!-- IMAGENS -->
            <div class="section">
                <h2>5. Imagens</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <div class="file-input">
                            <label for="img_condic_metereologica">Condições Meteorológicas</label>
                            <input type="file" name="img_condic_metereologica" id="img_condic_metereologica" accept="image/*">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="file-input">
                            <label for="img_local">Imagem do Local</label>
                            <input type="file" name="img_local" id="img_local" accept="image/*">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <div class="file-input">
                            <label for="img_upv">Imagem do UPV</label>
                            <input type="file" name="img_upv" id="img_upv" accept="image/*">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="file-input">
                            <label for="img_satelite_upv">Imagem de Satélite UPV</label>
                            <input type="file" name="img_satelite_upv" id="img_satelite_upv" accept="image/*">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <div class="file-input">
                            <label for="img_raio_busca">Raio de Busca</label>
                            <input type="file" name="img_raio_busca" id="img_raio_busca" accept="image/*">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="file-input">
                            <label for="img_tab_mare">Tábua de Maré</label>
                            <input type="file" name="img_tab_mare" id="img_tab_mare" accept="image/*">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="file-input">
                        <label for="img_prev_temp_onda">Previsão de Temperatura e Ondas</label>
                        <input type="file" name="img_prev_temp_onda" id="img_prev_temp_onda" accept="image/*">
                    </div>
                </div>
            </div>

            <!-- HISTÓRICO DA OCORRÊNCIA -->
            <div class="section">
                <h2>6. Histórico da Ocorrência</h2>
                
                <div class="form-group">
                    <label for="historico_ocorrencia">Histórico Detalhado <span class="required">*</span></label>
                    <textarea name="historico_ocorrencia" id="historico_ocorrencia" class="form-control" rows="6" required placeholder="Descreva detalhadamente como ocorreu o fato, circunstâncias, testemunhas, etc."></textarea>
                </div>
            </div>

        <div class="text-center">
            <button type="submit" class="btn btn-success">Salvar Ocorrência</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
    </div>
</div>
{% endblock %}