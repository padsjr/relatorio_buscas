{% extends "base.html" %}

{% block title %}Novo Dia de Busca{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <div class="d-flex justify-content-between align-items-center">
            <h1>{{ nome_dia|title }} Dia de Busca - {{ tipo_busca|title }}</h1>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Voltar</a>
        </div>
    </div>
    <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
            <input type="hidden" name="tipo_busca" value="{{ tipo_busca }}">
            <div class="form-row">
                <div class="form-group">
                    <label for="data">Data <span class="required">*</span></label>
                    <input type="date" name="data" id="data" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="hora_ini">Hora Início</label>
                    <input type="time" name="hora_ini" id="hora_ini" class="form-control">
                </div>
                <div class="form-group">
                    <label for="hora_fim">Hora Fim</label>
                    <input type="time" name="hora_fim" id="hora_fim" class="form-control">
                </div>
            </div>
            
            <div class="form-group">
                <label for="numero_ocorrencia">Nº Ocorrência (se aplicável)</label>
                <input name="numero_ocorrencia" id="numero_ocorrencia" type="text" class="form-control">
            </div>
            
            <div class="form-group">
                <label for="condicoes">Condições</label>
                <input name="condicoes" id="condicoes" type="text" class="form-control">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="temp_inicial">Temp. Inicial</label>
                    <input name="temp_inicial" id="temp_inicial" type="text" class="form-control">
                </div>
                <div class="form-group">
                    <label for="temp_final">Temp. Final</label>
                    <input name="temp_final" id="temp_final" type="text" class="form-control">
                </div>
            </div>
            
            <div class="form-group">
                <label for="guarnicao">Guarnição</label>
                <input name="guarnicao" id="guarnicao" type="text" class="form-control">
            </div>
            
            <div class="form-group">
                <label for="recursos">Recursos</label>
                <input name="recursos" id="recursos" type="text" class="form-control">
            </div>
            
            <div class="form-group">
                <label for="historico">Histórico</label>
                <textarea name="historico" id="historico" rows="5" class="form-control"></textarea>
            </div>
            
            <div class="form-group">
                <label for="status_vitima">Status da Vítima <span class="required">*</span></label>
                <select name="status_vitima" id="status_vitima" class="form-control" required>
                    <option value="">Selecione...</option>
                    <option value="Localizada">Localizada</option>
                    <option value="Não localizada">Não localizada</option>
                </select>
            </div>
            
            {% if tipo_busca == 'aquatica' %}
            <div class="form-group">
                <div class="file-input">
                    <label for="img_tab_mare">Imagem Tábua de Maré</label>
                    <input name="img_tab_mare" id="img_tab_mare" type="file" accept="image/*">
                </div>
            </div>
            
            <div class="form-group">
                <div class="file-input">
                    <label for="img_prev_temp">Imagem Previsão (Vento/Ondas)</label>
                    <input name="img_prev_temp" id="img_prev_temp" type="file" accept="image/*">
                </div>
            </div>
            
            <div class="form-group">
                <div class="file-input">
                    <label for="img_traj_buscas">Imagem Trajetos/Buscas</label>
                    <input name="img_traj_buscas" id="img_traj_buscas" type="file" accept="image/*">
                </div>
            </div>
            {% else %}
            {# Imagens para busca terrestre - podem ser adicionadas no futuro #}
            <div class="form-group">
                <div class="file-input">
                    <label for="img_traj_buscas">Imagem Trajetos/Buscas</label>
                    <input name="img_traj_buscas" id="img_traj_buscas" type="file" accept="image/*">
                </div>
            </div>
            {% endif %}
            
            <div class="text-center">
                <button type="submit" class="btn btn-success">Salvar</button>
                <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}


